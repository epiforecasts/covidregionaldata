name: Pull request checklist

on: [pull_request]

jobs:
  pr-checklist:
    runs-on: ubuntu-latest
    steps: 
     - uses: actions/github-script@v3
       with:
        script: |
          const { issue: { number: issue_number }, repo: { owner, repo }  } = context;
          github.issues.createComment({ issue_number, owner, repo, 
          body: 'Thanks for opening this pull request. Can you please run through the following checklist before requesting review (ticking as complete or if not relevant).
          
                   - [ ] Read our [contribution guidelines](https://github.com/epiforecasts/covidregionaldata/tree/master/.github/CONTRIBUTING.md) if you have not already done so.
                   - [ ] If you have altered an existing class please run the tests locally using `options(testDownload=TRUE, testSource=class-name)` and report your findings.
                   - [ ] If you have added an existing class please run the tests locally for that class (i.e using `devtools::test()`).
                   - [ ] Check your code passes our CI checks and review any style and code coverage warnings.
                   - [ ] Comment with details if unable to get our CI checks to pass or unable to remove all warnings.
                   
                   Thank you again for the contribution. If making large scale changes consider using our `pre-commit` hooks (see the contributing guide) to more easily comply with our guidelines. 
                  ' });
